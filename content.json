{"meta":{"title":"supreduçš„åšå®¢","subtitle":"","description":"blockchain fabric","author":"supredu","url":"http://supredu.github.io","root":"/"},"pages":[{"title":"","date":"2021-08-10T08:44:29.081Z","updated":"2021-08-10T08:44:29.081Z","comments":true,"path":"404.html","permalink":"http://supredu.github.io/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2021-08-08T09:12:40.992Z","updated":"2021-08-08T09:12:40.992Z","comments":true,"path":"categories/index.html","permalink":"http://supredu.github.io/categories/index.html","excerpt":"","text":""},{"title":"","date":"2021-08-09T09:29:40.125Z","updated":"2021-08-09T09:29:40.125Z","comments":true,"path":"css/sheep.css","permalink":"http://supredu.github.io/css/sheep.css","excerpt":"","text":"@font-face { font-family: \"iconfont\"; /* Project id 2732601 */ src: url('//at.alicdn.com/t/font_2732601_zaczpivuaal.woff2?t=1628501373420') format('woff2'), url('//at.alicdn.com/t/font_2732601_zaczpivuaal.woff?t=1628501373420') format('woff'), url('//at.alicdn.com/t/font_2732601_zaczpivuaal.ttf?t=1628501373420') format('truetype'); } .iconfont { font-family: \"iconfont\" !important; font-size: 16px; font-style: normal; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } .icon-miao:before { content: \"\\e620\"; } .icon-qukuailian:before { content: \"\\e6a1\"; } .icon-shijianxian:before { content: \"\\e674\"; } .icon-GitHub:before { content: \"\\e8c6\"; } .icon-sheep:before { content: \"\\e613\"; }"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2023-02-24T08:55:45.649Z","updated":"2021-08-08T09:13:28.597Z","comments":true,"path":"tags/index.html","permalink":"http://supredu.github.io/tags/index.html","excerpt":"","text":""},{"title":"","date":"2021-08-09T13:43:59.627Z","updated":"2021-08-09T13:43:59.627Z","comments":true,"path":"about/index.html","permalink":"http://supredu.github.io/about/index.html","excerpt":"","text":"å›½å®¶ä¸€çº§ç©ºæ°”æŠ•ç¯®è¿åŠ¨å‘˜"},{"title":"friends","date":"2021-08-08T09:15:38.000Z","updated":"2021-08-08T09:15:38.222Z","comments":true,"path":"friends/index.html","permalink":"http://supredu.github.io/friends/index.html","excerpt":"","text":""}],"posts":[{"title":"ä»0åˆ°1å®Œæˆä¸€ä¸ªç®€å•çš„dapp","slug":"ä»0åˆ°1å®Œæˆä¸€ä¸ªç®€å•çš„dapp","date":"2023-02-23T02:09:45.000Z","updated":"2023-02-24T09:05:28.214Z","comments":true,"path":"2023/02/23/ä»0åˆ°1å®Œæˆä¸€ä¸ªç®€å•çš„dapp/","link":"","permalink":"http://supredu.github.io/2023/02/23/%E4%BB%8E0%E5%88%B01%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84dapp/","excerpt":"","text":"æ¶æ„ï¼šHardhat Solidity ReactJs Ethers.js | Goerli Testnet | Netlifyå°†é¡¹ç›®å…‹éš†ä¸‹æ¥git clone https://github.com/supredu/TipMeDapp vscodeæ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹ ç»ˆç«¯è¾“å…¥npm install ç»ˆç«¯åˆ‡æ¢åˆ°frontendæ–‡ä»¶å¤¹è¾“å…¥npm install ç¼–è¾‘å˜é‡ Alchemyåˆ›å»ºapp å¤åˆ¶ç½‘å€é“¾æ¥ç²˜åˆ°GOERLI_url å¯¼å‡ºmetamaskç§é’¥ç²˜è´´åˆ°PRIVATE_KEY å°†åˆçº¦å‘å¸ƒåˆ°goerli testnetè¾“å…¥å‘½ä»¤npx hardhat run â€“network goerli scripts/testnet_deploy.js å°†åœ°å€ç²˜è´´åˆ°App.jsçš„contractAddress ç”¨artifacts/contractsä¸­ç”Ÿæˆçš„TipMe.jsonæ›¿æ¢æ‰frontend/src/contractä¸­çš„TipMe.json åˆ‡æ¢åˆ°frontendç›®å½• ä½¿ç”¨å‘½ä»¤npm startç”Ÿæˆç½‘é¡µ ä½¿ç”¨metamaskä¸dappäº¤äº’ äº¤äº’æˆåŠŸ ä½¿ç”¨Netlifyå°†åˆçº¦å‘å¸ƒåˆ°äº’è”ç½‘è¾“å…¥å‘½ä»¤npm run build é€‰æ‹©mannualy deployedå°†buildæ–‡ä»¶å¤¹ä¸Šä¼  ç”Ÿæˆç½‘é¡µ ä¿®æ”¹ç½‘é¡µåç§° äº¤äº’å°è¯•æˆåŠŸ æ€»ç»“å®Œæ•´å­¦ä¹ äº†dappçš„æ„æˆä¸äº¤äº’ï¼ˆé“¾ç«¯+å‰ç«¯æ¨¡å¼ï¼‰ï¼Œå¯ä»¥ä»¥æ­¤ä¸ºåŸºç¡€è‡ªè¡Œå°è¯•æ­å»ºdefiæˆ–ç›¸å…³æœ‰ä»·å€¼çš„dappã€‚","categories":[{"name":"dapp","slug":"dapp","permalink":"http://supredu.github.io/categories/dapp/"}],"tags":[]},{"title":"test2","slug":"test2","date":"2023-02-21T07:44:41.000Z","updated":"2023-02-24T09:05:48.892Z","comments":true,"path":"2023/02/21/test2/","link":"","permalink":"http://supredu.github.io/2023/02/21/test2/","excerpt":"","text":"å›¾åºŠæµ‹è¯•","categories":[{"name":"test","slug":"test","permalink":"http://supredu.github.io/categories/test/"}],"tags":[]},{"title":"hardhatå­¦ä¹ ","slug":"hardhatå­¦ä¹ ","date":"2023-02-21T03:42:08.357Z","updated":"2023-02-21T03:47:37.167Z","comments":true,"path":"2023/02/21/hardhatå­¦ä¹ /","link":"","permalink":"http://supredu.github.io/2023/02/21/hardhat%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"hardhatå®‰è£…æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œè¾“å…¥ï¼š 1234mkdir hardhat-democd hardhat-demonpm init -ynpm install --save-dev hardhat åˆ›å»ºhardhaté¡¹ç›®æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼ˆwindowsæœ€å¥½æ˜¯powershellï¼‰ï¼Œè¾“å…¥ï¼š 12cd hardhat-demonpx hardhat é€‰æ‹©ç¬¬ä¸‰é¡¹ï¼šåˆ›å»ºç©ºç™½é¡¹ç›®é…ç½® Create an empty hardhat.config.js 1234567ğŸ‘· Welcome to Hardhat v2.9.9 ğŸ‘·â€? What do you want to do? â€¦ Create a JavaScript project Create a TypeScript projectâ¯ Create an empty hardhat.config.js Quit å®‰è£…æ’ä»¶1npm install --save-dev @nomiclabs/hardhat-ethers ethers @nomiclabs/hardhat-waffle ethereum-waffle chai è¿™é‡Œå®‰è£…çš„æ˜¯ether.jså’Œwaffleæ’ä»¶ ä¿®æ”¹hardhat.config.jsæ–‡ä»¶å°†require(&quot;@nomiclabs/hardhat-waffle&quot;); æ·»åŠ åˆ°ä½ çš„hardhat.config.jsä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678require(&quot;@nomiclabs/hardhat-waffle&quot;);/** * @type import(&#x27;hardhat/config&#x27;).HardhatUserConfig */module.exports = &#123; solidity: &quot;0.7.3&quot;,&#125;; è¿™é‡Œå¼•å…¥hardhat-waffleï¼Œå› ä¸ºå®ƒä¾èµ–äºhardhat-ethersï¼Œå› æ­¤ä¸éœ€è¦åŒæ—¶æ·»åŠ ä¸¤ä¸ªã€‚ ç¼–å†™åˆçº¦æ–°å»ºcontractsæ–‡ä»¶å¤¹ æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºToken.solåˆçº¦æ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// Solidity files have to start with this pragma.// It will be used by the Solidity compiler to validate its version.pragma solidity ^0.7.0;// This is the main building block for smart contracts.contract Token &#123; // Some string type variables to identify the token. // The `public` modifier makes a variable readable from outside the contract. string public name = &quot;My Hardhat Token&quot;; string public symbol = &quot;MBT&quot;; // å›ºå®šå‘è¡Œé‡ï¼Œä¿å­˜åœ¨ä¸€ä¸ªæ— ç¬¦å·æ•´å‹é‡Œ uint256 public totalSupply = 1000000; // An address type variable is used to store ethereum accounts. address public owner; // A mapping is a key/value map. Here we store each account balance. mapping(address =&gt; uint256) balances; /** * åˆçº¦æ„é€ å‡½æ•° * * The `constructor` is executed only once when the contract is created. */ constructor() &#123; // The totalSupply is assigned to transaction sender, which is the account // that is deploying the contract. balances[msg.sender] = totalSupply; owner = msg.sender; &#125; /** * ä»£å¸è½¬è´¦. * * The `external` modifier makes a function *only* callable from outside * the contract. */ function transfer(address to, uint256 amount) external &#123; // Check if the transaction sender has enough tokens. // If `require`&#x27;s first argument evaluates to `false` then the // transaction will revert. require(balances[msg.sender] &gt;= amount, &quot;Not enough tokens&quot;); // Transfer the amount. balances[msg.sender] -= amount; balances[to] += amount; &#125; /** * è¿”å›è´¦å·çš„ä»£å¸ä½™é¢ï¼Œåªè¯»å‡½æ•°ã€‚ * * The `view` modifier indicates that it doesn&#x27;t modify the contract&#x27;s * state, which allows us to call it without executing a transaction. */ function balanceOf(address account) external view returns (uint256) &#123; return balances[account]; &#125;&#125; ç¼–è¯‘åˆçº¦è¾“å…¥å‘½ä»¤npx hardhat compile å‡ºç°é—®é¢˜ Error HH606: The project cannot be compiled, see reasons below. The Solidity version pragma statement in these files doesnâ€™t match any of the configured compilers in your config. Change the pragma or configure additional compiler versions in your hardhat config. contracts/Token.sol (^0.7.0) To learn more, run the command again with â€“verbose Read about compiler configuration at https://hardhat.org/config å‘ç°æ˜¯hardhat.config.jsçš„solidityç‰ˆæœ¬ä¸solæ–‡ä»¶ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œäºæ˜¯ä¿®æ”¹åˆçº¦ä¸­pragma solidity ^0.7.0;ä¸ºpragma solidity 0.8.17ï¼› æ˜¾ç¤ºæˆåŠŸ Compiled 1 Solidity file successfully æµ‹è¯•åˆçº¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºtestçš„æ–°ç›®å½•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåä¸ºToken.jsçš„æ–°æ–‡ä»¶ã€‚ è®©æˆ‘ä»¬ä»ä¸‹é¢çš„ä»£ç å¼€å§‹ã€‚ åœ¨åé¢æˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œè§£é‡Šï¼Œä½†ç°åœ¨å°†å…¶ç²˜è´´åˆ°Token.jsä¸­ï¼š 1234567891011121314const &#123; expect &#125; = require(&quot;chai&quot;);describe(&quot;Token contract&quot;, function() &#123; it(&quot;Deployment should assign the total supply of tokens to the owner&quot;, async function() &#123; const [owner] = await ethers.getSigners(); const Token = await ethers.getContractFactory(&quot;Token&quot;); const hardhatToken = await Token.deploy(); const ownerBalance = await hardhatToken.balanceOf(owner.address); expect(await hardhatToken.totalSupply()).to.equal(ownerBalance); &#125;);&#125;); è¿è¡Œnpx hardhat test 1234567$ npx hardhat test Token contract âœ“ Deployment should assign the total supply of tokens to the owner (654ms) 1 passing (663ms) æµ‹è¯•é€šè¿‡! éƒ¨ç½²åˆçº¦æ–°å»ºä¸€ä¸ªscriptsæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬æ¥ç¼–å†™éƒ¨ç½²åˆçº¦è„šæœ¬ã€‚å¹¶åœ¨è¯¥ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªdeploy.js // æˆ‘ä»¬å¯ä»¥é€šè¿‡ npx hardhat run æ¥è¿è¡Œæƒ³è¦çš„è„šæœ¬// è¿™é‡Œä½ å¯ä»¥ä½¿ç”¨ npx hardhat run deploy.js æ¥è¿è¡Œconst hre = require(\"hardhat\"); async function main() { const Contract = await hre.ethers.getContractFactory(â€œERC20â€); const token = await Contract.deploy(â€œWTFâ€,â€WTFâ€); await token.deployed(); console.log(â€œæˆåŠŸéƒ¨ç½²åˆçº¦:â€, token.address);} // è¿è¡Œè„šæœ¬main().catch((error) =&gt; { console.error(error); process.exitCode = 1;}); hardhatä¼šæä¾›ä¸€ä¸ªé»˜è®¤çš„ç½‘ç»œï¼Œå‚è€ƒï¼š(https://hardhat.org/hardhat-network/docs/overview) 1npx hardhat run --network hardhat scripts/deploy.js æˆåŠŸéƒ¨ç½²åˆçº¦: 0x5FbDB2315678afecb367f032d93F642f64180aa3 Goerliæµ‹è¯•ç½‘éƒ¨ç½²ä¿®æ”¹hardhat.config.js // æˆ‘ä»¬å¯ä»¥é€šè¿‡ npx hardhat run æ¥è¿è¡Œæƒ³è¦çš„è„šæœ¬// è¿™é‡Œä½ å¯ä»¥ä½¿ç”¨ npx hardhat run deploy.js æ¥è¿è¡Œconst hre = require(\"hardhat\"); async function main() { const Contract = await hre.ethers.getContractFactory(â€œERC20â€); const token = await Contract.deploy(â€œWTFâ€,â€WTFâ€); await token.deployed(); console.log(â€œæˆåŠŸéƒ¨ç½²åˆçº¦:â€, token.address);} // è¿è¡Œè„šæœ¬main().catch((error) =&gt; { console.error(error); process.exitCode = 1;}); é…ç½®å®Œæˆè¿è¡Œ npx hardhat run â€“network goerli scripts/deploy.js","categories":[{"name":"blockchain","slug":"blockchain","permalink":"http://supredu.github.io/categories/blockchain/"}],"tags":[{"name":"blockchain","slug":"blockchain","permalink":"http://supredu.github.io/tags/blockchain/"}]},{"title":"test","slug":"test","date":"2021-08-08T09:31:53.000Z","updated":"2021-08-08T16:56:26.070Z","comments":true,"path":"2021/08/08/test/","link":"","permalink":"http://supredu.github.io/2021/08/08/test/","excerpt":"","text":"ä»Šå¤œæœˆè‰²å¾ˆç¾","categories":[{"name":"test","slug":"test","permalink":"http://supredu.github.io/categories/test/"}],"tags":[{"name":"blockchain","slug":"blockchain","permalink":"http://supredu.github.io/tags/blockchain/"}]},{"title":"Hello World","slug":"hello-world","date":"2021-08-05T12:47:05.291Z","updated":"2021-08-05T12:47:05.291Z","comments":true,"path":"2021/08/05/hello-world/","link":"","permalink":"http://supredu.github.io/2021/08/05/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"dapp","slug":"dapp","permalink":"http://supredu.github.io/categories/dapp/"},{"name":"test","slug":"test","permalink":"http://supredu.github.io/categories/test/"},{"name":"blockchain","slug":"blockchain","permalink":"http://supredu.github.io/categories/blockchain/"}],"tags":[{"name":"blockchain","slug":"blockchain","permalink":"http://supredu.github.io/tags/blockchain/"}]}